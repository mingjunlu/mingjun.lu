---
import { Icon } from 'astro-icon/components';

function formatViewCount(count: number): string {
  const formatter = new Intl.NumberFormat('en-US', {
    notation: 'compact',
  });
  return formatter.format(count);
}

type Props = {
  viewCount: number;
};

const { viewCount } = Astro.props;
---

<div class="post-view-counter">
  <Icon name="fa6-solid:eye" />
  <span>{formatViewCount(viewCount)}</span>
</div>

<style lang="scss">
  @use '../../styles/variables.scss' as *;

  div {
    display: flex;
    align-items: center;
    gap: 8px;
  }
  svg {
    flex: 0 0 auto;
    width: 16px;
    height: 16px;
  }
</style>
